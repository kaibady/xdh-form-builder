(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-74a5523a"],{"259f":function(t,n,r){},"4fbb":function(t,n,r){"use strict";r("6762"),r("2fdb"),r("c5f6"),r("04ff");var e=r("db49"),o=r("ab3e"),i=e["b"]+"/forms";function u(t){return Object(o["a"])({method:"get",data:t,url:i})}var a=e["b"]+"/forms/:id";function f(t,n){return Object(o["a"])({method:"get",params:{id:t},data:n,url:a})}var s=e["b"]+"/forms";function c(t){return Object(o["a"])({method:"post",data:t,url:s})}var d=e["b"]+"/forms";function l(t){return Object(o["a"])({method:"patch",data:t,url:d})}var m=e["b"]+"/forms/:id";function b(t,n){return Object(o["a"])({method:"delete",params:{id:t},data:n,url:m})}var h=e["b"]+"/forms/remove";function v(t){return Object(o["a"])({method:"post",data:t,url:h})}n["a"]={data:function(){return{forms:{list:[],page:null,limit:null,total:0,model:null}}},methods:{fetchForms:function(t){var n=this;return u(t).then(function(t){return n.forms.list=t.list||[],n.forms.page=Number.parseInt(t.page)||0,n.forms.limit=Number.parseInt(t.limit)||0,n.forms.total=Number.parseInt(t.total)||0,t})},getForms:function(t,n){var r=this;return f(t,n).then(function(t){return r.forms.model=Object.assign({},n,t||{}),t})},addForms:function(t,n){var r=this;return c(t,n).then(function(e){return r.forms.model=Object.assign({},t,e||{}),void 0!==n?r.forms.list.splice(n,0,r.forms.model):r.forms.list.push(r.forms.model),r.forms.total+=1,e})},updateForms:function(t,n){var r=this;return l(t,n).then(function(e){return r.forms.model=Object.assign({},t,e||{}),void 0!==n&&r.forms.list.splice(n,1,r.forms.model),e})},removeForms:function(t,n,r){var e=this;return b(t,n).then(function(t){return void 0!==r&&e.forms.list.splice(r,1),e.forms.total-=1,t})},batchForms:function(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return v(t).then(function(t){return r.length>0&&(n.forms.list=n.forms.list.filter(function(t,n){return!r.includes(n)})),n.forms.total-=r.length,t})}}}},"99f4":function(t,n,r){"use strict";function e(t){var n=Math.min(parseInt(10*Math.random()),t);return n||null}function o(t){for(var n=10,r=[],o=0;o<n;o++)r.push({id:o+1,parentId:e(o),label:"选项".concat(o+1),value:o});return Promise.resolve(r)}r.d(n,"a",function(){return o})},a64c:function(t,n,r){"use strict";r.r(n);var e=function(){var t=this,n=t.$createElement,r=t._self._c||n;return r("div",{staticClass:"container"},[r("xdh-form",t._b({attrs:{model:t.model,fields:t.fields,load:t.load},on:{submit:t.handleSubmit}},"xdh-form",t.config,!1))],1)},o=[],i=(r("ac6a"),r("7dfa")),u=r("4fbb"),a=r("db49"),f=r("b5e2"),s=r("99f4"),c={mixins:[u["a"]],components:{XdhForm:i["a"]},data:function(){return{config:{},fields:[],load:s["a"]}},computed:{model:function(){var t={};return this.fields.forEach(function(n){n&&"divider"!==n.type&&(t[n.prop]=(n.props||{}).value||n.value)}),t}},methods:{handleSubmit:function(t){console.log("submit",t)}},created:function(){var t=this,n=this.$route.params.id;if(n)if(a["d"]){var r=Object(f["c"])(n);this.config=r.config||{},this.fields=r.fields||[]}else this.getForms(n).then(function(n){t.config=n.config||{},t.fields=n.fields||[]})}},d=c,l=(r("bbf2"),r("2877")),m=Object(l["a"])(d,e,o,!1,null,"2a777d4f",null);n["default"]=m.exports},b5e2:function(t,n,r){"use strict";r.d(n,"b",function(){return u}),r.d(n,"a",function(){return a}),r.d(n,"d",function(){return f}),r.d(n,"c",function(){return s}),r.d(n,"e",function(){return c});var e=r("cebc"),o=(r("20d6"),r("7514"),r("6b54"),r("5d2d")),i="__forms__";function u(){return Object(o["c"])(i,o["a"])||[]}function a(t){var n=u();t._id=(new Date).getTime().toString(),n.push(t),Object(o["d"])(i,n,o["a"])}function f(t){var n=u();n=n.filter(function(n){return n._id.toString()!==t.toString()}),Object(o["d"])(i,n,o["a"])}function s(t){var n=u();return n.find(function(n){return n._id.toString()===t.toString()})||{}}function c(t,n){var r=u(),a=r.findIndex(function(n){return n._id.toString()===t.toString()}),f=r[a]||{};r.splice(a,1,Object(e["a"])({},f,n)),Object(o["d"])(i,r,o["a"])}},bbf2:function(t,n,r){"use strict";var e=r("259f"),o=r.n(e);o.a}}]);
//# sourceMappingURL=chunk-74a5523a.a4b3d0fd.js.map